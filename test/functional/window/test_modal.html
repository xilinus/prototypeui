<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Test Modal Windows</title>
  <script src="../../../lib/prototype.js" type="text/javascript"></script>
  <script src="../../../lib/effects.js" type="text/javascript"></script>
  <script src="../../../dist/window.js" type="text/javascript"></script>
  
  <link href="../../../themes/window/window.css" rel="stylesheet" type="text/css">
  <link href="../../../themes/window/alphacube.css" rel="stylesheet" type="text/css">
  <link href="../../../themes/shadow/mac_shadow.css" rel="stylesheet" type="text/css"> 
  <style type='text/css'>
  body {
	  background: url('../../assets/body_bg.png') repeat; 
		margin:0;
		padding:0;
  }
  </style>
  
</head>
	<div id="link"><a href="#" onclick="openModal(); return false;">Open modal window </a></div>
  <div id="link2"><a href="#" onclick="openModalInDesktop(); return false;">Open modal window in desktop</a></div><br>
  <div id="desktop" style="position: absolute; top: 10px; right: 10px; border: 1px solid black; width: 600px; height: 400px; overflow: auto">
  </div>     
  Add Select box for testing iFrameShim on IE<br/>
  <select>
    <option>option 1</option>
  	<option>option 2</option>
  	<option>option 3</option>
  </select>     
  <br/>
  <select>
    <option>option 1</option>
  	<option>option 2</option>
  	<option>option 3</option>
  </select> 
  
  <div id="content">
    Open Modal window inside a window!
    <input type="button" value="Open" onclick="openModalInWindow()"/>
    bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>
    bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>
    bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>bla<br/>
    <input type="button" value="Open" onclick="openModalInWindow()"/>
  </div>
<script type="text/javascript">
  //insertDebugControl();
  function runTest() {
    new UI.Window({width: 200, top: 50, left: 110, shadow: true}).show(); 
    new UI.Window({width: 200, top: 110, left: 210, shadow: true, superflousEffects: false}).setContent($("content")).show();       
  	wm = new UI.WindowManager({ container: 'desktop' });
  	wm2 = new UI.WindowManager({ container: $('content').up() });
  	
	  new UI.Window({width: 200, top: 10, left: 10, windowManager: wm}).show();  
	}  
  document.whenReady(runTest);
  
	var pos = {top: 10, left: 10};
	
	function openModal() {
  	w = new UI.Window({shadow: true, top: pos.top, left: pos.left});
		pos.top += 20;
		pos.left += 20;
  	w.setContent($('link').innerHTML);
  	w.show(true).focus();  
		w.observe("hidden", function() {pos.top -= 20; pos.left -= 20})
	}	   
	
	function openModalInDesktop() {
  	w = new UI.Window({shadow: true, top: pos.top, left: pos.left, windowManager: wm});
		pos.top += 20;
		pos.left += 20;
  	w.setContent($('link2').innerHTML);
  	w.show(true).focus();  
		w.observe("hidden", function() {pos.top -= 20; pos.left -= 20})		
	}
	
	function openModalInWindow() {
  	w = new UI.Window({id: "insideWindow", shadow: true, resizable: false, close: false,
  	                   top: 10, left: 10, width: 100, minWidth: 100,  height: 50, windowManager: wm2});
  	w.setContent("<a href='#' onclick='wm2.getWindow(this).destroy()'>Close</a>");
  	w.center({auto: true}).show(true).focus();  
	}
	  
</script>

</body>
</html>
